 datasource db {
   provider = "postgresql"
   url      = env("DATABASE_URL")
 }

 generator client {
   provider = "prisma-client-js"
 }

 enum Role {
   SCOUT
   RECRUITER
   AGENT
   ADMIN
 }

 model User {
   id        String   @id @default(cuid())
   email     String   @unique
   password  String
   role      Role     @default(SCOUT)
   firstname String?
   lastname  String?
   country   String?  // ex: "FR", "GA" ou 
   name      String? // affichage (prenom + nom)
   reports   Report[]
   players   Player[] @relation("CreatedPlayers")
   createdAt DateTime @default(now())
 }

 model Player {
   id        String   @id @default(cuid())
   name      String
   position  String
   creator   User?    @relation("CreatedPlayers", fields: [creatorId], references: [id])
   creatorId String?
   reports   Report[]
   createdAt DateTime @default(now())
 }

 model Report {
   id        String   @id @default(cuid())
   content   String
   player    Player   @relation(fields: [playerId], references: [id])
   playerId  String
   author    User     @relation(fields: [authorId], references: [id])
   authorId  String
   status    String   @default("draft")
   createdAt DateTime @default(now())
 }
